<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
    <title>mmdleaf</title>
    <link href="../tbxdok.css" rel="stylesheet">
  </head>
  <body>
    <table class="topNav">
      <tr>
        <td class="index">
                  [<a href="../mmdemos/mmdholecenter.html"><tt>mmdholecenter</tt></a>]
              
                  [<a href="index.html">Up</a>]
                  
                  [<a href="../mmdemos/mmdlith.html"><tt>mmdlith</tt></a>]
              </td>
        <td class="title">Demonstrations</td>
      </tr>
    </table>
    <h1>mmdleaf
      <br>
      <span class="subtitle">Segment a leaf from the background
</span>
    </h1>
    <div class="descr">
      <H2>Description</H2>
      <div class="H2">
        <p>
                      This experiment demonstrate the use of the toggle to segment an image with ill defined borders.
                  
        </p>
      </div>
    </div>
    <div class="script">
      <H2>Demo Script</H2>
      <div class="H2">
        <div class="slide">
          <H3>Reading </H3>
          <div class="H3">
            <p>
              <p>
                        The gray scale image to be processed is read.
                    
              </p>
              <div class="example">
                <div class="listing">
                  <pre class="user">&gt;&gt;&gt; f = mmreadgray('leaf.tif')</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f)</pre>
                  <pre class="computer"></pre>
                </div>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_001.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_001.jpg">f</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </p>
          </div>
        </div>
        <div class="slide">
          <H3>Simple thresholding</H3>
          <div class="H3">
            <p>
              <p>
                        Although the leaf was pictured on a light background, it is not possible to fully segment the leaf using a simple thresholding
                    
              </p>
              <div class="example">
                <div class="listing">
                  <pre class="user">&gt;&gt;&gt; f_low=mmthreshad(f,100)</pre>
                  <pre class="computer">Warning: Converting input image from int32 to uint8.</pre>
                  <pre class="user">&gt;&gt;&gt; f_med=mmthreshad(f,128)</pre>
                  <pre class="computer">Warning: Converting input image from int32 to uint8.</pre>
                  <pre class="user">&gt;&gt;&gt; f_high=mmthreshad(f,160)</pre>
                  <pre class="computer">Warning: Converting input image from int32 to uint8.</pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f_low)</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f_med)</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f_high)</pre>
                  <pre class="computer"></pre>
                </div>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_002.jpg"></td>
                      <td><img width="313" src="../images/img_mmdleaf_003.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_002.jpg">f_low</a></td>
                      <td><a href="../images/img_mmdleaf_003.jpg">f_med</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_004.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_004.jpg">f_high</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </p>
          </div>
        </div>
        <div class="slide">
          <H3>Toggle</H3>
          <div class="H3">
            <p>
              <p>
                        The toggle is a non-linear image enhancement that changes the pixel value to the maximum or the minimum in the neighborhood given by the structure element, depending which one is the nearest value. The result of the toggle is that near the edges, the image is better defined.
                    
              </p>
              <div class="example">
                <div class="listing">
                  <pre class="user">&gt;&gt;&gt; f1=mmtoggle(f,mmero(f,mmsedisk(7)),mmdil(f,mmsedisk(7)))</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f1)</pre>
                  <pre class="computer"></pre>
                </div>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_005.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_005.jpg">f1</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </p>
          </div>
        </div>
        <div class="slide">
          <H3> Thresholding and area open</H3>
          <div class="H3">
            <p>
              <p>
                        The thresholding can now be applied resulting a good definition of the leaf boarder. Small white spots can be removed by the area open filter.
                    
              </p>
              <div class="example">
                <div class="listing">
                  <pre class="user">&gt;&gt;&gt; f2=mmthreshad(f1,100)</pre>
                  <pre class="computer">Warning: Converting input image from int32 to uint8.</pre>
                  <pre class="user">&gt;&gt;&gt; f3=mmareaopen(f2,80)</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f2)</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f3)</pre>
                  <pre class="computer"></pre>
                </div>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_006.jpg"></td>
                      <td><img width="313" src="../images/img_mmdleaf_007.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_006.jpg">f2</a></td>
                      <td><a href="../images/img_mmdleaf_007.jpg">f3</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </p>
          </div>
        </div>
        <div class="slide">
          <H3>Final display</H3>
          <div class="H3">
            <p>
              <p>
                        For illustration, the contour of the segmented leaf is overlayed in red in the original image
                    
              </p>
              <div class="example">
                <div class="listing">
                  <pre class="user">&gt;&gt;&gt; f4=mmgradm(f3)</pre>
                  <pre class="computer"></pre>
                  <pre class="user">&gt;&gt;&gt; mmshow(f,f4)</pre>
                  <pre class="computer"></pre>
                </div>
                <table class="images">
                  <tbody align="center">
                    <tr class="image" valign="bottom">
                      <td><img width="313" src="../images/img_mmdleaf_008.jpg"></td>
                      <td class="spare"></td>
                    </tr>
                    <tr class="title" valign="baseline">
                      <td><a href="../images/img_mmdleaf_008.jpg">f,f4</a></td>
                      <td class="spare"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </p>
          </div>
        </div>
      </div>
    </div>
    <center>
      <table class="botNav">
        <tr>
          <td class="index">
                    [<a href="../mmdemos/mmdholecenter.html"><tt>mmdholecenter</tt></a>]
                
                    [<a href="index.html">Up</a>]
                    
                    [<a href="../mmdemos/mmdlith.html"><tt>mmdlith</tt></a>]
                </td>
          <td rowspan="2" class="xhtml"><a href="http://www.python.org"><img width="55" alt="Python" height="22" src="../PythonPoweredSmall.gif"></a></td>
        </tr>
        <tr>
          <td class="copyright">Copyright (c) 2003, Roberto A. Lotufo, UNICAMP-University of Campinas; Rubens C. Machado, CenPRA-Renato Archer Research Center.</td>
        </tr>
      </table>
    </center>
  </body>
</html>