SET (OSM_PLUGIN_DIR ${QGIS_DATA_DIR}/python/plugins/osm)

FILE (GLOB UI_FILES ui_files/*.ui)
PYQT4_WRAP_UI(PYUI_FILES ${UI_FILES})
PYQT4_ADD_RESOURCES(PYRC_FILES resources.qrc)
ADD_CUSTOM_TARGET(osmplugin ALL DEPENDS ${PYUI_FILES} ${PYRC_FILES})

FILE (GLOB PYTHON_FILES *.py)
FILE (GLOB MAPTOOLS_PYTHON_FILES map_tools/*.py)
FILE (GLOB STYLE_FILES styles/*.style)

INSTALL (FILES ${PYTHON_FILES} DESTINATION ${OSM_PLUGIN_DIR})
INSTALL (FILES ${PYUI_FILES} DESTINATION ${OSM_PLUGIN_DIR})
INSTALL (FILES ${PYRC_FILES} DESTINATION ${OSM_PLUGIN_DIR})
INSTALL (FILES ${MAPTOOLS_PYTHON_FILES} DESTINATION ${OSM_PLUGIN_DIR}/map_tools)
INSTALL (FILES ${STYLE_FILES} DESTINATION ${OSM_PLUGIN_DIR}/styles)
